<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="796.05365"
   height="703.43097"
   viewBox="0 0 796.05366 703.43098"
   id="svg2"
   version="1.1"
   inkscape:version="0.48.4 r9939"
   sodipodi:docname="architecture.svg">
  <defs
     id="defs4">
    <marker
       style="overflow:visible"
       id="Arrow2Lend"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow2Lend">
      <path
         transform="matrix(-1.1,0,0,-1.1,-1.1,0)"
         d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z"
         style="fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round"
         id="path6135"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       style="overflow:visible"
       id="Arrow2Lstart"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow2Lstart">
      <path
         transform="matrix(1.1,0,0,1.1,1.1,0)"
         d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z"
         style="fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round"
         id="path6132"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       style="overflow:visible"
       id="Arrow1Lend"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Lend">
      <path
         transform="matrix(-0.8,0,0,-0.8,-10,0)"
         style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt"
         d="M 0,0 5,-5 -12.5,0 5,5 0,0 z"
         id="path6117"
         inkscape:connector-curvature="0" />
    </marker>
  </defs>
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="0.98994949"
     inkscape:cx="612.5707"
     inkscape:cy="327.82022"
     inkscape:document-units="px"
     inkscape:current-layer="layer1-3"
     showgrid="false"
     inkscape:window-width="1920"
     inkscape:window-height="1052"
     inkscape:window-x="0"
     inkscape:window-y="0"
     inkscape:window-maximized="1"
     units="cm"
     fit-margin-top="1"
     fit-margin-left="1"
     fit-margin-bottom="1"
     fit-margin-right="1" />
  <metadata
     id="metadata7">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-158.00169,-317.80765)">
    <g
       transform="translate(-109.09649,-239.85071)"
       id="layer1-3"
       inkscape:label="Calque 1">
      <text
         sodipodi:linespacing="125%"
         id="text2985"
         y="810.54431"
         x="681.72412"
         style="font-size:22.56169891px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
         xml:space="preserve"><tspan
           y="810.54431"
           x="681.72412"
           id="tspan2987"
           sodipodi:role="line">packet.py:</tspan></text>
      <text
         sodipodi:linespacing="125%"
         id="text2989"
         y="838.12384"
         x="687.42188"
         style="font-size:11.3571825px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
         xml:space="preserve"><tspan
           y="838.12384"
           x="687.42188"
           id="tspan2991"
           sodipodi:role="line"><tspan
   style="fill:#ff6600"
   id="tspan3740">Enum :</tspan> OP_CODE</tspan><tspan
           id="tspan2993"
           y="852.32031"
           x="687.42188"
           sodipodi:role="line"><tspan
   style="fill:#ff6600"
   id="tspan3736">Enum :</tspan> ERR_CODE</tspan><tspan
           y="866.51678"
           x="687.42188"
           sodipodi:role="line"
           id="tspan3742" /><tspan
           y="880.71326"
           x="687.42188"
           sodipodi:role="line"
           id="tspan3747"><tspan
   style="fill:#ff6600"
   id="tspan3749">BinaryString :</tspan> build_packet_rrq(Filename, mode) </tspan><tspan
           y="894.90973"
           x="687.42188"
           sodipodi:role="line"
           id="tspan3980" /><tspan
           y="909.1062"
           x="687.42188"
           sodipodi:role="line"
           id="tspan3988"><tspan
   style="fill:#ff6600"
   id="tspan3998">BinaryString : </tspan>build_packet_wrq(Filename, mode)</tspan><tspan
           y="923.30273"
           x="687.42188"
           sodipodi:role="line"
           id="tspan3994" /><tspan
           y="937.49921"
           x="687.42188"
           sodipodi:role="line"
           id="tspan3990"><tspan
   style="fill:#ff6600"
   id="tspan4000">BinaryString : </tspan>build_packet_data(Block_num, data)</tspan><tspan
           y="951.69568"
           x="687.42188"
           sodipodi:role="line"
           id="tspan3982" /><tspan
           y="965.89215"
           x="687.42188"
           sodipodi:role="line"
           id="tspan4010"><tspan
   style="fill:#ff6600"
   id="tspan4018">BinaryString : </tspan>build_packet_ack(Block_num) </tspan><tspan
           y="980.08862"
           x="687.42188"
           sodipodi:role="line"
           id="tspan4012" /><tspan
           y="994.2851"
           x="687.42188"
           sodipodi:role="line"
           id="tspan4014"><tspan
   style="fill:#ff6600"
   id="tspan4020">BinaryString :</tspan> build_packet_err(Err_code)</tspan><tspan
           y="1008.4816"
           x="687.42188"
           sodipodi:role="line"
           id="tspan4040" /><tspan
           y="1022.678"
           x="687.42188"
           sodipodi:role="line"
           id="tspan4052" /><tspan
           y="1036.8745"
           x="687.42188"
           sodipodi:role="line"
           id="tspan4077">For RRQ and WRQ </tspan><tspan
           y="1051.071"
           x="687.42188"
           sodipodi:role="line"
           id="tspan4054"><tspan
   style="fill:#ff6600"
   id="tspan4073">Op_code, File_name, Mode : </tspan>decode_packet(BinaryString)</tspan><tspan
           y="1065.2675"
           x="687.42188"
           sodipodi:role="line"
           id="tspan4107" /><tspan
           y="1079.464"
           x="687.42188"
           sodipodi:role="line"
           id="tspan4109">For ACK </tspan><tspan
           y="1093.6604"
           x="687.42188"
           sodipodi:role="line"
           id="tspan4113"><tspan
   style="fill:#ff6600"
   id="tspan4117">Op_code, Block_num : </tspan>decode_packet(BinaryString)</tspan><tspan
           y="1107.8569"
           x="687.42188"
           sodipodi:role="line"
           id="tspan4058" /><tspan
           y="1122.0533"
           x="687.42188"
           sodipodi:role="line"
           id="tspan4091">For DATA and ERR</tspan><tspan
           y="1136.2499"
           x="687.42188"
           sodipodi:role="line"
           id="tspan4093"><tspan
   style="fill:#ff6600"
   id="tspan4097">Op_code, Block_num, Msg : </tspan>decode_packet(BinaryString)</tspan><tspan
           y="1150.4464"
           x="687.42188"
           sodipodi:role="line"
           id="tspan4095" /><tspan
           y="1164.6428"
           x="687.42188"
           sodipodi:role="line"
           id="tspan4048" /><tspan
           y="1178.8394"
           x="687.42188"
           sodipodi:role="line"
           id="tspan4016" /><tspan
           y="1193.0358"
           x="687.42188"
           sodipodi:role="line"
           id="tspan3984" /><tspan
           id="tspan3011"
           y="1207.2323"
           x="687.42188"
           sodipodi:role="line" /><tspan
           id="tspan3013"
           y="1221.4287"
           x="687.42188"
           sodipodi:role="line" /><tspan
           id="tspan3007"
           y="1235.6252"
           x="687.42188"
           sodipodi:role="line" /></text>
      <rect
         y="768.78296"
         x="666.48315"
         height="452.71045"
         width="360.93243"
         id="rect3034"
         style="fill:none;stroke:#000000;stroke-width:0.59082723;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" />
      <text
         sodipodi:linespacing="125%"
         id="text2985-3"
         y="803.58374"
         x="320.99521"
         style="font-size:22.56169891px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
         xml:space="preserve"><tspan
           y="803.58374"
           x="320.99521"
           id="tspan2987-6"
           sodipodi:role="line">client.py: <tspan
   id="tspan6102"
   style="font-style:italic">(pseudo code)</tspan></tspan></text>
      <rect
         y="769.14978"
         x="302.74152"
         height="222.45822"
         width="322.36569"
         id="rect3034-7"
         style="fill:none;stroke:#000000;stroke-width:0.39141363;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" />
      <text
         sodipodi:linespacing="125%"
         id="text2985-3-5"
         y="627.22656"
         x="356.01828"
         style="font-size:22.56169891px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
         xml:space="preserve"><tspan
           y="627.22656"
           x="356.01828"
           id="tspan2987-6-3"
           sodipodi:role="line">utils.py:</tspan></text>
      <rect
         y="593.29779"
         x="345.13229"
         height="151.93353"
         width="550.27002"
         id="rect3034-5"
         style="fill:none;stroke:#000000;stroke-width:0.422622;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" />
      <text
         sodipodi:linespacing="125%"
         id="text2989-6"
         y="650.60388"
         x="353.32336"
         style="font-size:11.3571825px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
         xml:space="preserve"><tspan
           y="650.60388"
           x="353.32336"
           id="tspan2991-2"
           sodipodi:role="line"><tspan
   id="tspan4524"
   style="fill:#ff6600">Boolean</tspan>(<tspan
   id="tspan4530"
   style="font-style:italic">success</tspan>), <tspan
   id="tspan4526"
   style="fill:#ff6600">String</tspan>(<tspan
   id="tspan4536"
   style="font-style:italic">err_msg</tspan>) :  send_file(<tspan
   id="tspan4538"
   style="font-style:italic">socket</tspan>, <tspan
   id="tspan4540"
   style="font-style:italic">file_descriptor</tspan>)</tspan><tspan
           id="tspan4520"
           y="664.80035"
           x="353.32336"
           sodipodi:role="line" /><tspan
           id="tspan4518"
           y="678.99683"
           x="353.32336"
           sodipodi:role="line"><tspan
   id="tspan4522"
   style="fill:#ff6600">Boolean</tspan>(<tspan
   id="tspan4532"
   style="font-style:italic">success</tspan>), <tspan
   id="tspan4528"
   style="fill:#ff6600">String</tspan>(<tspan
   id="tspan4534"
   style="font-style:italic">err_msg</tspan>) :  receive_file(<tspan
   id="tspan4542"
   style="font-style:italic">socket</tspan>, <tspan
   id="tspan4544"
   style="font-style:italic">file_descriptor</tspan>, <tspan
   id="tspan4546"
   style="font-style:italic">first_data_blk</tspan>)</tspan><tspan
           y="693.1933"
           x="353.32336"
           sodipodi:role="line"
           id="tspan4167" /><tspan
           id="tspan3094"
           y="707.38977"
           x="353.32336"
           sodipodi:role="line">(option) : parse_user_input(args)</tspan><tspan
           id="tspan3096"
           y="721.58624"
           x="353.32336"
           sodipodi:role="line" /><tspan
           id="tspan3013-1"
           y="735.78278"
           x="353.32336"
           sodipodi:role="line" /><tspan
           id="tspan3007-9"
           y="749.97925"
           x="353.32336"
           sodipodi:role="line" /></text>
      <text
         sodipodi:linespacing="125%"
         id="text2989-4"
         y="25.157356"
         x="-763.37775"
         style="font-size:20.13533401px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
         xml:space="preserve"><tspan
           id="tspan3007-8"
           y="25.157356"
           x="-763.37775"
           sodipodi:role="line" /><tspan
           id="tspan5285"
           y="50.326523"
           x="-763.37775"
           sodipodi:role="line" /></text>
      <text
         sodipodi:linespacing="125%"
         id="text2989-68"
         y="805.37958"
         x="320.79675"
         style="font-size:11.3571825px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
         xml:space="preserve"><tspan
           id="tspan3007-0"
           y="805.37958"
           x="320.79675"
           sodipodi:role="line" /><tspan
           id="tspan5985"
           y="819.57605"
           x="320.79675"
           sodipodi:role="line" /><tspan
           id="tspan5987"
           y="833.77252"
           x="320.79675"
           sodipodi:role="line">parse input</tspan><tspan
           id="tspan5989"
           y="847.96899"
           x="320.79675"
           sodipodi:role="line" /><tspan
           id="tspan5991"
           y="862.16547"
           x="320.79675"
           sodipodi:role="line">send request</tspan><tspan
           id="tspan6086"
           y="876.36194"
           x="320.79675"
           sodipodi:role="line" /><tspan
           id="tspan5993"
           y="890.55847"
           x="320.79675"
           sodipodi:role="line">open corrects ports, file descriptors</tspan><tspan
           id="tspan6092"
           y="904.75494"
           x="320.79675"
           sodipodi:role="line" /><tspan
           id="tspan5995"
           y="918.95142"
           x="320.79675"
           sodipodi:role="line">send_file or receive_file</tspan><tspan
           id="tspan5997"
           y="933.14789"
           x="320.79675"
           sodipodi:role="line" /><tspan
           id="tspan5999"
           y="947.34436"
           x="320.79675"
           sodipodi:role="line">handle error if any</tspan><tspan
           id="tspan6094"
           y="961.54083"
           x="320.79675"
           sodipodi:role="line" /><tspan
           id="tspan6096"
           y="975.7373"
           x="320.79675"
           sodipodi:role="line"> close everything</tspan></text>
      <text
         sodipodi:linespacing="125%"
         id="text2985-3-6"
         y="1040.9807"
         x="317.2265"
         style="font-size:22.56169891px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
         xml:space="preserve"><tspan
           y="1040.9807"
           x="317.2265"
           id="tspan2987-6-5"
           sodipodi:role="line">server.py: <tspan
   id="tspan6104"
   style="font-style:italic">(pseudo code)</tspan></tspan></text>
      <rect
         y="1005.4061"
         x="303.52991"
         height="220.04303"
         width="322.36783"
         id="rect3034-7-6"
         style="fill:none;stroke:#000000;stroke-width:0.38928434;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" />
      <text
         sodipodi:linespacing="125%"
         id="text2989-68-3"
         y="1041.637"
         x="321.58618"
         style="font-size:11.3571825px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
         xml:space="preserve"><tspan
           id="tspan3007-0-9"
           y="1041.637"
           x="321.58618"
           sodipodi:role="line" /><tspan
           id="tspan5985-4"
           y="1055.8335"
           x="321.58618"
           sodipodi:role="line" /><tspan
           id="tspan5987-8"
           y="1070.0299"
           x="321.58618"
           sodipodi:role="line">start listening</tspan><tspan
           id="tspan5989-1"
           y="1084.2264"
           x="321.58618"
           sodipodi:role="line" /><tspan
           id="tspan5991-2"
           y="1098.4229"
           x="321.58618"
           sodipodi:role="line">loop: </tspan><tspan
           id="tspan7112"
           y="1112.6194"
           x="321.58618"
           sodipodi:role="line" /><tspan
           id="tspan7114"
           y="1126.8158"
           x="321.58618"
           sodipodi:role="line">    open correct ports, file descriptors</tspan><tspan
           id="tspan5993-9"
           y="1141.0123"
           x="321.58618"
           sodipodi:role="line" /><tspan
           id="tspan5995-3"
           y="1155.2087"
           x="321.58618"
           sodipodi:role="line">    send_file or receive_file</tspan><tspan
           id="tspan5997-9"
           y="1169.4053"
           x="321.58618"
           sodipodi:role="line" /><tspan
           id="tspan5999-0"
           y="1183.6017"
           x="321.58618"
           sodipodi:role="line">    handle error if any</tspan><tspan
           id="tspan6098"
           y="1197.7982"
           x="321.58618"
           sodipodi:role="line" /><tspan
           id="tspan6100"
           y="1211.9948"
           x="321.58618"
           sodipodi:role="line">    close files / correct ports</tspan></text>
    </g>
  </g>
</svg>
